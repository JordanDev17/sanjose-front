<div class="dashboard-home-wrapper min-h-screen p-4 sm:p-6 lg:p-8 pt-20 transition-colors duration-300"
     [ngClass]="(darkMode$ | async) ? 'bg-gray-900 text-gray-100' : 'bg-gray-100 text-gray-900'">

  <header class="dashboard-header flex flex-col md:flex-row items-center justify-between gap-8 mb-12 relative overflow-hidden bg-gradient-to-r from-blue-600 to-purple-700 dark:from-blue-800 dark:to-purple-900 rounded-3xl p-8 sm:p-12 shadow-2xl animate-fade-in">
    <div class="header-content text-white z-10 flex-grow">
      <h1 *ngIf="currentUser" class="welcome-title text-4xl sm:text-5xl lg:text-6xl font-extrabold mb-4 leading-tight">
        ¡Bienvenido de vuelta,
        <span id="user-name-highlight" class="text-teal-300 drop-shadow-lg">{{ currentUser.nombre_usuario }}</span>!
      </h1>
      <p *ngIf="currentUser" class="role-text text-lg sm:text-xl font-medium mb-3">
        Tu rol actual:
        <span [ngClass]="{
            'bg-yellow-400 text-yellow-900': currentUser.rol === 'admin',
            'bg-green-400 text-green-900': currentUser.rol === 'editor',
            'bg-blue-400 text-blue-900': currentUser.rol === 'visualizador'
          }" class="role-tag px-3 py-1 rounded-full text-sm font-semibold uppercase tracking-wide shadow-md transition-colors duration-300">
          {{ currentUser.rol | uppercase }}
        </span>
      </p>
      <p class="tagline text-lg opacity-90">Tu centro de comando para la gestión de la plataforma.</p>
    </div>
    <div class="header-animation z-10 hidden md:block">
      <svg class="icon-dashboard w-40 h-40 text-blue-300 dark:text-purple-300 opacity-80" viewBox="0 0 24 24" fill="currentColor">
        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"/>
      </svg>
    </div>
    <div class="absolute inset-0 z-0 opacity-20">
      <div class="w-full h-full pattern-dots absolute top-0 left-0"></div>
    </div>
  </header>

  <hr class="mb-12 border-gray-200 dark:border-gray-700">

  <section class="dashboard-overview mb-16">
    <h2 class="section-title text-3xl sm:text-4xl font-bold mb-8 text-gray-800 dark:text-gray-200" data-aos="fade-up" data-aos-once="true">
      Panel de Control Rápido
    </h2>
    <div class="card-grid grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8">
      <a *ngIf="currentUser && currentUser.rol === 'admin'"
         routerLink="/dashboard-users"
         class="dashboard-card group bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 hover:scale-[1.02] border border-gray-200 dark:border-gray-700"
         data-aos="fade-up" data-aos-delay="100" data-aos-once="true">
        <div class="card-icon text-blue-600 dark:text-blue-400 mb-4 text-4xl group-hover:text-blue-700 dark:group-hover:text-blue-300 transition-colors duration-300">
          <i class="fas fa-users"></i>
        </div>
        <div class="card-content">
          <h3 class="text-xl font-semibold mb-2 text-gray-800 dark:text-gray-100 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors duration-300">Gestión de Usuarios</h3>
          <p class="text-gray-600 dark:text-gray-400 text-sm">Administra las cuentas de usuario y sus roles.</p>
        </div>
        <div class="card-arrow text-gray-400 group-hover:text-blue-600 dark:group-hover:text-blue-400 mt-4 transition-transform duration-300 transform group-hover:translate-x-2">
          <i class="fas fa-arrow-right"></i>
        </div>
      </a>

      <a *ngIf="currentUser && (currentUser.rol === 'admin' || currentUser.rol === 'editor')"
         routerLink="/dashboard-news"
         class="dashboard-card group bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 hover:scale-[1.02] border border-gray-200 dark:border-gray-700"
         data-aos="fade-up" data-aos-delay="200" data-aos-once="true">
        <div class="card-icon text-green-600 dark:text-green-400 mb-4 text-4xl group-hover:text-green-700 dark:group-hover:text-green-300 transition-colors duration-300">
          <i class="fas fa-newspaper"></i>
        </div>
        <div class="card-content">
          <h3 class="text-xl font-semibold mb-2 text-gray-800 dark:text-gray-100 group-hover:text-green-600 dark:group-hover:text-green-400 transition-colors duration-300">Gestión de Noticias</h3>
          <p class="text-gray-600 dark:text-gray-400 text-sm">Crea, edita y publica las últimas novedades.</p>
        </div>
        <div class="card-arrow text-gray-400 group-hover:text-green-600 dark:group-hover:text-green-400 mt-4 transition-transform duration-300 transform group-hover:translate-x-2">
          <i class="fas fa-arrow-right"></i>
        </div>
      </a>

      <a *ngIf="currentUser && (currentUser.rol === 'admin' || currentUser.rol === 'editor')"
         routerLink="/dashboard-warehouses"
         class="dashboard-card group bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 hover:scale-[1.02] border border-gray-200 dark:border-gray-700"
         data-aos="fade-up" data-aos-delay="300" data-aos-once="true">
        <div class="card-icon text-purple-600 dark:text-purple-400 mb-4 text-4xl group-hover:text-purple-700 dark:group-hover:text-purple-300 transition-colors duration-300">
          <i class="fas fa-warehouse"></i>
        </div>
        <div class="card-content">
          <h3 class="text-xl font-semibold mb-2 text-gray-800 dark:text-gray-100 group-hover:text-purple-600 dark:group-hover:text-purple-400 transition-colors duration-300">Gestión de Almacenes</h3>
          <p class="text-gray-600 dark:text-gray-400 text-sm">Administra la información de los almacenes.</p>
        </div>
        <div class="card-arrow text-gray-400 group-hover:text-purple-600 dark:group-hover:text-purple-400 mt-4 transition-transform duration-300 transform group-hover:translate-x-2">
          <i class="fas fa-arrow-right"></i>
        </div>
      </a>

      <a *ngIf="currentUser && currentUser.rol === 'visualizador'"
         routerLink="/dashboard-news"
         class="dashboard-card group bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 hover:scale-[1.02] border border-gray-200 dark:border-gray-700"
         data-aos="fade-up" data-aos-delay="100" data-aos-once="true">
        <div class="card-icon text-teal-600 dark:text-teal-400 mb-4 text-4xl group-hover:text-teal-700 dark:group-hover:text-teal-300 transition-colors duration-300">
          <i class="fas fa-eye"></i>
        </div>
        <div class="card-content">
          <h3 class="text-xl font-semibold mb-2 text-gray-800 dark:text-gray-100 group-hover:text-teal-600 dark:group-hover:text-teal-400 transition-colors duration-300">Ver Noticias</h3>
          <p class="text-gray-600 dark:text-gray-400 text-sm">Consulta las noticias publicadas en la plataforma.</p>
        </div>
        <div class="card-arrow text-gray-400 group-hover:text-teal-600 dark:group-hover:text-teal-400 mt-4 transition-transform duration-300 transform group-hover:translate-x-2">
          <i class="fas fa-arrow-right"></i>
        </div>
      </a>

      <a *ngIf="currentUser && currentUser.rol === 'visualizador'"
         routerLink="/dashboard-warehouses"
         class="dashboard-card group bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 hover:scale-[1.02] border border-gray-200 dark:border-gray-700"
         data-aos="fade-up" data-aos-delay="200" data-aos-once="true">
        <div class="card-icon text-orange-600 dark:text-orange-400 mb-4 text-4xl group-hover:text-orange-700 dark:group-hover:text-orange-300 transition-colors duration-300">
          <i class="fas fa-building"></i>
        </div>
        <div class="card-content">
          <h3 class="text-xl font-semibold mb-2 text-gray-800 dark:text-gray-100 group-hover:text-orange-600 dark:group-hover:text-orange-400 transition-colors duration-300">Ver Almacenes</h3>
          <p class="text-gray-600 dark:text-gray-400 text-sm">Explora la información de los almacenes disponibles.</p>
        </div>
        <div class="card-arrow text-gray-400 group-hover:text-orange-600 dark:group-hover:text-orange-400 mt-4 transition-transform duration-300 transform group-hover:translate-x-2">
          <i class="fas fa-arrow-right"></i>
        </div>
      </a>
    </div>
  </section>

  <section class="dashboard-insights mb-16">
    <h2 class="section-title text-3xl sm:text-4xl font-bold mb-8 text-gray-800 dark:text-gray-200" data-aos="fade-up" data-aos-once="true">
      Análisis Rápido
    </h2>
    <div class="insights-grid grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8">
      <div class="insight-card bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg border border-gray-200 dark:border-gray-700 flex flex-col items-center text-center"
           data-aos="fade-up" data-aos-delay="100" data-aos-once="true">
        <i class="fas fa-chart-line insight-icon text-blue-500 dark:text-blue-400 mb-4 text-5xl"></i>
        <h4 class="text-xl font-semibold mb-2 text-gray-800 dark:text-gray-100">Noticias Publicadas</h4>
        <p class="insight-value text-5xl font-extrabold text-blue-600 dark:text-blue-400 mb-2" id="newsCount">7</p>
        <span class="text-sm font-medium text-gray-600 dark:text-gray-400">último mes: <span class="text-green-500 font-semibold">7</span></span>
      </div>

      <div class="insight-card bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg border border-gray-200 dark:border-gray-700 flex flex-col items-center text-center"
           data-aos="fade-up" data-aos-delay="200" data-aos-once="true">
        <i class="fas fa-industry insight-icon text-purple-500 dark:text-purple-400 mb-4 text-5xl"></i>
        <h4 class="text-xl font-semibold mb-2 text-gray-800 dark:text-gray-100">Almacenes Activos</h4>
        <p class="insight-value text-5xl font-extrabold text-purple-600 dark:text-purple-400 mb-2" id="warehousesCount">7</p>
        <span class="text-sm font-medium text-gray-600 dark:text-gray-400">último mes: <span class="text-green-500 font-semibold">7</span></span>
      </div>

      <div class="insight-card bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg border border-gray-200 dark:border-gray-700 flex flex-col items-center text-center"
           data-aos="fade-up" data-aos-delay="300" data-aos-once="true">
        <i class="fas fa-users-cog insight-icon text-teal-500 dark:text-teal-400 mb-4 text-5xl"></i>
        <h4 class="text-xl font-semibold mb-2 text-gray-800 dark:text-gray-100">Usuarios Activos</h4>
        <p class="insight-value text-5xl font-extrabold text-teal-600 dark:text-teal-400 mb-2" id="usersCount">1</p>
        <span class="text-sm font-medium text-gray-600 dark:text-gray-400">último mes: <span class="text-red-500 font-semibold">1</span></span>
      </div>
    </div>
  </section>

  <footer class="dashboard-footer text-center py-8 text-gray-600 dark:text-gray-400 text-sm border-t border-gray-200 dark:border-gray-700 mt-12">
    <p>&copy; {{ currentYear }} Vision - Todos los derechos reservados.</p>
  </footer>
</div>